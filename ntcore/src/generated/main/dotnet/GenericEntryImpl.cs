// Copyright (c) FIRST and other WPILib contributors.
// Open Source Software; you can modify and/or share it under the terms of
// the WPILib BSD license file in the root directory of this project.

// THIS FILE WAS AUTO-GENERATED BY ./ntcore/generate_topics.py. DO NOT MODIFY

using System;
using NetworkTables.Handles;
using NetworkTables.Natives;

namespace NetworkTables;

/** NetworkTables generic implementation. */
internal sealed class GenericEntryImpl<THandle> : EntryBase<THandle>, IGenericEntry where THandle : struct, INtEntryHandle
{
  /**
   * Constructor.
   *
   * @param topic Topic
   * @param handle Native handle
   */
  internal GenericEntryImpl(Topic topic, THandle handle): base(handle) {
    Topic = topic;
  }

  public override Topic Topic { get; }

  public NetworkTableValue Get() {
    return NtCore.GetEntryValue(Handle);
  }

  /**
   * Gets the entry's value as a bool. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public bool GetBoolean(bool defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsBoolean) {
      return value.GetBoolean();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a long. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public long GetInteger(long defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsInteger) {
      return value.GetInteger();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a float. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public float GetFloat(float defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsFloat) {
      return value.GetFloat();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a double. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public double GetDouble(double defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsDouble) {
      return value.GetDouble();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a string. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public string GetString(string defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsString) {
      return value.GetString();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a byte[]. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public byte[] GetRaw(byte[] defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsRaw) {
      return value.GetRaw();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a bool[]. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public bool[] GetBooleanArray(bool[] defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsBooleanArray) {
      return value.GetBooleanArray();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a long[]. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public long[] GetIntegerArray(long[] defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsIntegerArray) {
      return value.GetIntegerArray();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a float[]. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public float[] GetFloatArray(float[] defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsFloatArray) {
      return value.GetFloatArray();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a double[]. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public double[] GetDoubleArray(double[] defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsDoubleArray) {
      return value.GetDoubleArray();
    }
    return defaultValue;
  }

  /**
   * Gets the entry's value as a string[]. If the entry does not exist or is of different type, it
   * will return the default value.
   *
   * @param defaultValue the value to be returned if no value is found
   * @return the entry's value or the given default value
   */

  public string[] GetStringArray(string[] defaultValue) {
    NetworkTableValue value = NtCore.GetEntryValue(Handle);
    if (value.IsStringArray) {
      return value.GetStringArray();
    }
    return defaultValue;
  }


  public NetworkTableValue[] ReadQueue() {
    return NtCore.ReadQueueValue(Handle);
  }


  public bool Set(in NetworkTableValue value) {
    return NtCore.SetEntryValue(Handle, value);
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value that will be assigned
   * @return False if the table key already exists with a different type
   * @throws IllegalArgumentException if the value is not a known type
   */

  public bool SetValue<T>(T value, long time)
  {
    return value switch
    {
      NetworkTableValue v => Set(v),
      bool v => Set(NetworkTableValue.MakeBoolean(v, time)),
      double v => Set(NetworkTableValue.MakeDouble(v, time)),
      float v => Set(NetworkTableValue.MakeFloat(v, time)),
      string v => Set(NetworkTableValue.MakeString(v, time)),
      bool[] v => Set(NetworkTableValue.MakeBooleanArray(v, time)),
      double[] v => Set(NetworkTableValue.MakeDoubleArray(v, time)),
      float[] v => Set(NetworkTableValue.MakeFloatArray(v, time)),
      string[] v => Set(NetworkTableValue.MakeStringArray(v, time)),
      byte[] v => Set(NetworkTableValue.MakeRaw(v, time)),
      _ => throw new InvalidOperationException($"Value of type {value?.GetType().Name} cannot be put into a table")
    };
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetBoolean(bool value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeBoolean(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetInteger(long value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeInteger(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetFloat(float value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeFloat(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDouble(double value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeDouble(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetString(string value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeString(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetRaw(byte[] value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeRaw(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetBooleanArray(bool[] value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeBooleanArray(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetIntegerArray(long[] value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeIntegerArray(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetFloatArray(float[] value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeFloatArray(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDoubleArray(double[] value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeDoubleArray(value, time));
  }

  /**
   * Sets the entry's value.
   *
   * @param value the value to set
   * @return False if the entry exists with a different type
   */

  public bool SetStringArray(string[] value, long time) {
    return NtCore.SetEntryValue(Handle, NetworkTableValue.MakeStringArray(value, time));
  }


  public bool SetDefault(in NetworkTableValue value) {
    return NtCore.SetDefaultEntryValue(Handle, value);
  }

  public bool SetDefaultValue<T>(T value)
  {
    return value switch
    {
      NetworkTableValue v => Set(v),
      bool v => SetDefault(NetworkTableValue.MakeBoolean(v)),
      double v => SetDefault(NetworkTableValue.MakeDouble(v)),
      float v => SetDefault(NetworkTableValue.MakeFloat(v)),
      string v => SetDefault(NetworkTableValue.MakeString(v)),
      bool[] v => SetDefault(NetworkTableValue.MakeBooleanArray(v)),
      double[] v => SetDefault(NetworkTableValue.MakeDoubleArray(v)),
      float[] v => SetDefault(NetworkTableValue.MakeFloatArray(v)),
      string[] v => SetDefault(NetworkTableValue.MakeStringArray(v)),
      byte[] v => SetDefault(NetworkTableValue.MakeRaw(v)),
      _ => throw new InvalidOperationException($"Value of type {value?.GetType().Name} cannot be put into a table")
    };
  }


  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultBoolean(bool value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeBoolean(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultInteger(long value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeInteger(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultFloat(float value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeFloat(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultDouble(double value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeDouble(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultString(string value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeString(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultRaw(byte[] value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeRaw(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultBooleanArray(bool[] value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeBooleanArray(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultIntegerArray(long[] value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeIntegerArray(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultFloatArray(float[] value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeFloatArray(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultDoubleArray(double[] value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeDoubleArray(value));
  }

  /**
   * Sets the entry's value if it does not exist.
   *
   * @param defaultValue the default value to set
   * @return False if the entry exists with a different type
   */

  public bool SetDefaultStringArray(string[] value) {
    return NtCore.SetDefaultEntryValue(Handle, NetworkTableValue.MakeStringArray(value));
  }



  public void Unpublish() {
    NtCore.Unpublish(Handle);
  }
}